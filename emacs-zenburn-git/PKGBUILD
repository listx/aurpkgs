# Contributor: listdata <linusarver <at> gmail <dot> com>
pkgname=emacs-zenburn-git
pkgver=20120520
pkgrel=1
pkgdesc="The zenburn color theme for GNU Emacs "
arch=('any')
url="https://github.com/bbatsov/zenburn-emacs"
depends=('emacs<24' 'emacs-color-theme')
makedepends=('git')
license=('GPL')
install=$pkgname.install

_gitroot="git://github.com/bbatsov/zenburn-emacs"
_gitname="zenburn-emacs"

build() {
  cd $srcdir

  if [[ -d $_gitname ]]; then
    cd $_gitname
    git clean -dxf
    git reset --hard
    msg "Pulling from GIT server..."
    git pull origin
  else
    git clone --depth 1 $_gitroot $_gitname
    cd $_gitname
  fi
}

package() {
  # create destination path
  install -d $pkgdir/usr/share/emacs/site-lisp/$_gitname
  # copy over files into path
  cp $srcdir/$_gitname/*.el $pkgdir/usr/share/emacs/site-lisp/$_gitname
}
