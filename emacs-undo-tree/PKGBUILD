# Contributor: listdata <linusarver <at> gmail <dot> com>
pkgname=emacs-undo-tree
pkgver=0.5.3
pkgrel=1
pkgdesc="Replace Emacs' undo system with an intuitive tree-based system."
arch=('any')
url="http://www.dr-qubit.org/emacs.php#undo-tree"
depends=('emacs')
license=('GPL')
provides=('emacs-undo-tree')
conflicts=('emacs-undo-tree')
install=$pkgname.install
source=(http://www.dr-qubit.org/undo-tree/undo-tree-${pkgver}.el)
md5sums=('7a2773131ce4685def6dc0d2da61fc0d')

build() {
  # rename to just undo-tree.el
  mv undo-tree-${pkgver}.el undo-tree.el
  # compile for speed
  emacs -batch -f batch-byte-compile undo-tree.el
}

package() {
  # create destination path
  install -d $pkgdir/usr/share/emacs/site-lisp
  # copy over file into path
  cp $srcdir/undo-tree.elc $pkgdir/usr/share/emacs/site-lisp
}
